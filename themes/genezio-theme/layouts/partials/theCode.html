<div
  class="row px-2 pb-2 text-white mt-4 justify-content-center wrapper-code-area"
>
  <p
    style="font-size: 12px"
    class="mb-3 pb-1 text-success fw-bold text-center mt-4 pt-3"
  >
    THE CODE
  </p>
  <h2 class="text-white text-center fw-bold mb-4 pb-3">
    genezio in a nutshell
  </h2>

  <div class="col-lg-11 col-md-11 m-2">
    <nav>
      <div
        class="nav nav-tabs nav-fill"
        id="nav-tab"
        role="tablist"
        style="border-bottom: 1px solid rgba(255, 255, 255, 0.1)"
      >
        <button
          class="nav-link nav-link-custom"
          id="genezio-rpc-tab"
          data-bs-toggle="tab"
          data-bs-target="#genezio-rpc"
          type="button"
          role="tab"
          aria-controls="genezio-rpc"
          aria-selected="false"
        >
          genezio.Rpc
        </button>
        <button
          class="nav-link nav-link-custom active"
          id="nav-profile-tab"
          data-bs-toggle="tab"
          data-bs-target="#genezio-backend"
          type="button"
          role="tab"
          aria-controls="genezio-backend"
          aria-selected="true"
        >
          genezio.Backend
        </button>
        <button
          class="nav-link nav-link-custom"
          id="genezio-serverless-tab"
          data-bs-toggle="tab"
          data-bs-target="#genezio-serverless"
          type="button"
          role="tab"
          aria-controls="genezio-serverless"
          aria-selected="false"
        >
          genezio.Serverless
        </button>
        <button
          class="nav-link nav-link-custom"
          id="genezio-cloud-tab"
          data-bs-toggle="tab"
          data-bs-target="#genezio-cloud"
          type="button"
          role="tab"
          aria-controls="genezio-cloud"
          aria-selected="false"
        >
          genezio.Cloud
        </button>
      </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
      <div
        class="tab-pane fade"
        id="genezio-rpc"
        role="tabpanel"
        aria-labelledby="genezio-rpc-tab"
        tabindex="0"
      >
        ...
      </div>
      <div
        class="tab-pane fade show active"
        id="genezio-backend"
        role="tabpanel"
        aria-labelledby="genezio-backend-tab"
        tabindex="0"
      >
        {{/* start genezio backend */}}
        <div class="row mt-4">
          <div class="col-md-3 col-xs-12 d-flex text-left px-4">
            <nav class="w-100">
              <div
                class="nav flex-column nav-custom-left"
                id="nav-tab"
                role="tablist"
              >
                <button
                  class="nav-link nav-link-custom text-start active"
                  id="user-auth-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#user-auth"
                  type="button"
                  role="tab"
                  aria-controls="user-auth"
                  aria-selected="true"
                >
                  User authentication
                </button>
                <button
                  class="nav-link nav-link-custom text-start"
                  id="database-support-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#database-support"
                  type="button"
                  role="tab"
                  aria-controls="database-support"
                  aria-selected="false"
                >
                  Database support
                </button>
                <button
                  class="nav-link nav-link-custom text-start"
                  id="storage-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#storage"
                  type="button"
                  role="tab"
                  aria-controls="storage"
                  aria-selected="false"
                >
                  Storage
                </button>
                <button
                  class="nav-link nav-link-custom text-start"
                  id="queues-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#queues"
                  type="button"
                  role="tab"
                  aria-controls="queues"
                  aria-selected="false"
                >
                  Queues
                </button>
                <button
                  class="nav-link nav-link-custom text-start"
                  id="cron-jobs-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#cron-jobs"
                  type="button"
                  role="tab"
                  aria-controls="cron-jobs"
                  aria-selected="false"
                >
                  Cron jobs
                </button>
                <button
                  class="nav-link nav-link-custom text-start"
                  id="real-time-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#real-time"
                  type="button"
                  role="tab"
                  aria-controls="real-time"
                  aria-selected="false"
                >
                  Real time (soon)
                </button>
              </div>
            </nav>
          </div>
          <div class="col-md-9 col-xs-12 px-4">
            <div class="tab-content" id="nav-tabContent">
              <div
                class="tab-pane fade show active"
                id="user-auth"
                role="tabpanel"
                aria-labelledby="user-auth-tab"
                tabindex="0"
              >
                <p class="opacity-50 m-0">
                  Manage and process large volumes of tasks and requests with
                  ease and reliability. Extremely helpful when you need to do
                  something asynchronously.
                </p>
                <div class="code-title-genezio ms-4 px-3">client</div>
                <pre class="pre-code-wrapper-genezio px-4 py-1">
<code>
import { ProductService } from '@genezio-sdk/my-app';

const ProductDetails = () => {
  // rest of the code

  const buy = async (e) => {
    // Use the auto generated EmailAuthService to register the user
    const details = await ProductService.buy(product)
  }
  
  // rest of the code
}</code>
                </pre>

                <div class="code-title-genezio ms-4 px-3">genezio server</div>

                <pre class="pre-code-wrapper-genezio px-4 py-1">
<code>
import { GenezioDeploy, GnzContext } from '@genezio/types';
import { getStorage } from '@genezio/storage';

@GenezioDeploy()
export class ProductService {
  async buy(context: GnzContext, product: Product): Promise<boolean> {
    this.queue.add('buyProduct', { product, user: context.user })
  }

  @GenezioMethod({ type: "queue", queue: 'buyProduct' })
  async buyQueue(context: GnzContext, product: Product): Promise<boolean> {
    // charge the user
    // check if the payment was successful
    // send the confirmation email
    // return true or false
  }
}</code>
                </pre>
              </div>
              <div
                class="tab-pane fade"
                id="storage"
                role="tabpanel"
                aria-labelledby="storage-tab"
                tabindex="0"
              >
                storage ...
              </div>
              <div
                class="tab-pane fade"
                id="database-support"
                role="tabpanel"
                aria-labelledby="database-support-tab"
                tabindex="0"
              >

                <p class="opacity-50 m-0">
                  Integrated database handling, everything you need to create, write and maintain a backend that scales with your app. We offer Redis or Postgres through our partners.  Or bring your own database and connect to it like you normally would
                </p>
                

<div class="code-title-genezio ms-4 px-3">client</div>
                <pre class="pre-code-wrapper-genezio px-4 py-1">
<code>
import { ProductService } from '@genezio-sdk/my-app';

const ProductDetails = () => {
  // rest of the code

  const getUserDetails = async (e) => {
    // Use the auto generated EmailAuthService to register the user
    const details = await ProductService.getDetails(product.id)
  }
  
  // rest of the code
}</code>
                </pre>

                <div class="code-title-genezio ms-4 px-3">genezio server</div>

                <pre class="pre-code-wrapper-genezio px-4 py-1">
<code>
import { GenezioDeploy, GnzContext } from '@genezio/types';

@GenezioDeploy()
export class ProductService {
  async getUserInfo(context: GnzContext, productId: number): Promise<ProductDetails> {
    let product = await this.redisClient.get(`product:${productId}:details`);
    if (result) {     
      return result;
    }

    product = await this.postgressDb.find({where: {
        id: productId 
      }
    })
    await this.redisClient.set(`product:${productId}:details`, product);

    return product
  }
} </code>
                </pre>

              </div>
              <div
                class="tab-pane fade"
                id="queues"
                role="tabpanel"
                aria-labelledby="queues-tab"
                tabindex="0"
              >
              queues ...
              </div>
              <div
                class="tab-pane fade"
                id="cron-jobs"
                role="tabpanel"
                aria-labelledby="cron-jobs-tab"
                tabindex="0"
              >
                cron jobs ...
              </div>
              <div
                class="tab-pane fade"
                id="real-time"
                role="tabpanel"
                aria-labelledby="real-time-tab"
                tabindex="0"
              >
                real time ...
              </div>
            </div>
          </div>
        </div>
        {{/* end genezio backend */}}
      </div>
      <div
        class="tab-pane fade"
        id="genezio-serverless"
        role="tabpanel"
        aria-labelledby="genezio-serverless-tab"
        tabindex="0"
      >
        ...
      </div>

      <div
        class="tab-pane fade"
        id="genezio-cloud"
        role="tabpanel"
        aria-labelledby="genezio-cloud-tab"
        tabindex="0"
      >
        ...
      </div>
    </div>
  </div>
</div>
